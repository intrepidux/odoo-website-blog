<odoo>
<!--    <template id="apps_loop" name="Posts List">-->
<!--        <div id="o_wblog_posts_loop" t-att-class="'o_wblog_list_view' if opt_blog_list_view else ''">-->

<!--            &lt;!&ndash; Allow to filter post by published state. Visible only in edit-mode-->
<!--                 and if both published/unpublished number is > 0 &ndash;&gt;-->
<!--            <t t-if="state_info" t-set="state" t-value="state_info['state']"/>-->

<!--            &lt;!&ndash; Check for active options &ndash;&gt;-->
<!--            <t t-set="opt_posts_loop_show_cover" t-value="is_view_active('website_blog.opt_posts_loop_show_cover')"/>-->

<!--            <div groups="website.group_website_designer" t-if="state_info and (state_info['published'] > 0 and state_info['unpublished'] > 0)">-->
<!--                <div class="bg-200 py-2 mb-4 alert alert-dismissable">-->
<!--                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">&#215;</button>-->
<!--                    <span class="mr-1">Show:</span>-->
<!--                    <div class="btn-group btn-group-sm">-->
<!--                        <a t-attf-class="btn #{state == 'published' and 'btn-success' or 'btn-default bg-white border'}"-->
<!--                           t-attf-href="#{state == 'published' and blog_url(state='') or blog_url(state='published')}">-->
<!--                            <i t-attf-class="fa mr-1 #{state == 'published' and 'fa-check-square-o' or 'fa-square-o'}"/>-->
<!--                            Published (<t t-esc="state_info['published']" />)-->
<!--                        </a>-->
<!--                        <a t-attf-class="btn #{state == 'unpublished' and 'btn-success' or 'btn-default bg-white border'}"-->
<!--                           t-attf-href="#{state == 'unpublished' and blog_url(state='') or blog_url(state='unpublished')}">-->
<!--                            <i t-attf-class="fa mr-1 #{state == 'unpublished' and 'fa-check-square-o' or 'fa-square-o'}"/>-->
<!--                            Unpublished (<t t-esc="state_info['unpublished']" />)-->
<!--                        </a>-->
<!--                    </div>-->
<!--                    <div class="pt-1 font-italic small">This box will not be visible to your visitors</div>-->
<!--                </div>-->
<!--            </div>-->

<!--            <div t-attf-class="row #{posts and not opt_blog_readable and 'mx-n2'}">-->
<!--                &lt;!&ndash; Filters &ndash;&gt;-->
<!--                <div t-if="tag or date_begin or search" class="col-12 mb-3">-->
<!--                    <div t-if="posts" class="h4 mb-3">-->
<!--                        <t t-esc="len(posts)"/>-->
<!--                        <t t-if="len(posts) &lt; 2">Article</t>-->
<!--                        <t t-else="">Articles</t>-->
<!--                    </div>-->
<!--                    <span t-if="search" class="align-items-baseline border d-inline-flex pl-2 rounded mb-2">-->
<!--                        <i class="fa fa-search mr-2 text-muted"/>-->
<!--                        <t t-esc="search"/>-->
<!--                        <a t-att-href="blog_url(search=False, tag=tag)" class="btn border-0 py-1 post_link">&#215;</a>-->
<!--                    </span>-->
<!--                    <t t-if="tag">-->
<!--                        &lt;!&ndash; Show active tags with a category set &ndash;&gt;-->
<!--                        <t t-foreach="tag_category" t-as="nav_tag_category">-->
<!--                            <t t-call="website_blog.tags_list">-->
<!--                                <t t-set='tags' t-value='nav_tag_category.tag_ids' />-->
<!--                                <t t-set='dismissibleBtn' t-value="True"/>-->
<!--                            </t>-->
<!--                        </t>-->

<!--                        &lt;!&ndash; Show active tags without a category set &ndash;&gt;-->
<!--                        <t t-call="website_blog.tags_list">-->
<!--                            <t t-set='tags' t-value='other_tags'/>-->
<!--                            <t t-set='dismissibleBtn' t-value="True"/>-->
<!--                        </t>-->
<!--                    </t>-->
<!--                    <hr class="mt-2"/>-->
<!--                </div>-->

<!--                &lt;!&ndash; No blog post yet &ndash;&gt;-->
<!--                <div t-if="not posts" class="col">-->
<!--                    <t t-set="no_results_str">No results for "%s".</t>-->
<!--                    <h2 t-if="search" t-esc="no_results_str % search" class="font-weight-bold"/>-->
<!--                    <h2 t-else="">No apps yet.</h2>-->
<!--                </div>-->

<!--                &lt;!&ndash; Posts &ndash;&gt;-->

<!--                &lt;!&ndash; Define 'colWidth' qWeb variable, to be assigned later.-->
<!--                Adjust accordingly if sidebar and/or readability modes are active. &ndash;&gt;-->
<!--                <t t-if="not opt_blog_list_view">-->
<!--                    <t t-if="opt_blog_readable">-->
<!--                        <t t-if="opt_blog_sidebar_show" t-set="colWidth" t-value="'col-md-6'"/>-->
<!--                        <t t-else="" t-set="colWidth" t-value="'col-md-6 col-xl-4'"/>-->
<!--                    </t>-->
<!--                    <t t-else="">-->
<!--                        <t t-if="opt_blog_sidebar_show" t-set="colWidth" t-value="'px-2 col-md-6 col-xl-4'"/>-->
<!--                        <t t-else="" t-set="colWidth" t-value="'px-2 col-sm-6 col-lg-4 col-xl-3'"/>-->
<!--                    </t>-->
<!--                </t>-->
<!--                &lt;!&ndash; Loop through posts: exclude the first one if already displayed as top banner &ndash;&gt;-->
<!--                <t t-foreach="posts" t-as="blog_post">-->
<!--                    &lt;!&ndash; Assign 'colWidth': 'col-12' is default for List-View and mobile &ndash;&gt;-->
<!--                    <div t-attf-class="pb-4 col-12 #{colWidth}">-->
<!--                        <article t-attf-class="o_wblog_post position-relative #{'card h-100' if opt_blog_cards_design else ''}" name="blog_post">-->
<!--                            &lt;!&ndash; List-View Design &ndash;&gt;-->
<!--                            <t t-if="opt_blog_list_view">-->
<!--                                <div t-att-class="opt_blog_cards_design and 'card-body py-3'">-->
<!--                                    <t t-call="website_blog.post_heading"/>-->
<!--                                </div>-->
<!--                                <div t-if="opt_posts_loop_show_cover">-->
<!--                                    <t t-call="website_blog.post_cover_image"/>-->
<!--                                </div>-->

<!--                                <div t-if="opt_blog_cards_design" t-attf-class="opt_blog_cards_design and 'card-body pt-0 pb-2'}">-->
<!--                                    <t t-call="website_blog.post_info"></t>-->
<!--                                </div>-->

<!--                            </t>-->
<!--                            &lt;!&ndash; Grid-View Design &ndash;&gt;-->
<!--                            <t t-if="not opt_blog_list_view">-->
<!--                                <t t-if="opt_posts_loop_show_cover" t-call="website_blog.post_cover_image"/>-->
<!--                                <div t-att-class="opt_blog_cards_design and 'card-body px-2 py-0 mb-2'">-->
<!--                                    <t t-call="website_blog.post_heading"/>-->

<!--                                </div>-->
<!--                            </t>-->
<!--                            &lt;!&ndash; Add 'unpublished' badge &ndash;&gt;-->
<!--                            <span t-if="not blog_post.website_published" class="bg-danger small py-1 px-2 position-absolute o_not_editable" style="top:0; right:0">unpublished</span>-->
<!--                        </article>-->
<!--                    </div>-->
<!--                    &lt;!&ndash; List-View Design, add <hr> after post &ndash;&gt;-->
<!--                    <div t-if="opt_blog_list_view and not blog_post_last" class="col-12 mt-2 mb-5 px-2"><hr/></div>-->
<!--                </t>-->
<!--            </div>-->
<!--        </div>-->
<!--    </template>-->

    <template id="blog_app_post" name="Apps">
        <t t-call="website_blog.index">
            <t t-set="head">
                <link t-if="blog" t-att-href="'/apps/%s/feed' % (blog.id)" type="application/atom+xml" rel="alternate" title="Atom Feed"/>
                <meta t-if="active_tag_ids" name="robots" t-attf-content="none"/>
            </t>

            <!-- Check for active options: the stored value may be used in sub-templates too  -->
            <t t-set="opt_blog_cards_design" t-value="is_view_active('website_blog.opt_blog_cards_design')"/>
            <t t-set="opt_blog_list_view" t-value="is_view_active('website_blog.opt_blog_list_view')"/>
            <t t-set="opt_blog_readable" t-value="is_view_active('website_blog.opt_blog_readable')"/>
            <t t-set="opt_blog_sidebar_show" t-value="is_view_active('website_blog.opt_blog_sidebar_show')"/>

            <div id="o_wblog_blog_top">
                <!-- Selectively display droppable-areas for 'all blogs' or single-blog pages -->
                <t t-if="not tag and not date_begin">
                    <div id="o_wblog_blog_top_droppable">
                        <t t-if="blog">
                            <t t-set="oe_structure_blog_single_header_description">Edit the '<t t-esc="blog.name"/>' page header.</t>
                            <div t-field="blog.content"
                                 class="oe_structure"
                                 t-attf-id="oe_structure_blog_single_header_#{blog.id}"
                                 t-att-data-editor-sub-message="oe_structure_blog_single_header_description"/>
                        </t>
                        <t t-elif="blogs">
                            <t t-set="oe_structure_blog_all_header_description">Edit the 'All Blogs' page header.</t>
                            <div class="oe_structure"
                                 id="oe_structure_blog_all_header"
                                 t-att-data-editor-sub-message="oe_structure_blog_all_header_description"/>
                        </t>
                    </div>
                </t>
                <t t-else="">
                    <!-- Droppable-area for filtered results (tags or date) -->
                    <t t-set="oe_structure_blog_filtered_header_description">Edit the 'Filter Results' page header.</t>
                    <div class="oe_structure"
                         id="oe_structure_blog_filtered_header"
                         t-att-data-editor-sub-message="oe_structure_blog_filtered_header_description"/>
                </t>
            </div>

            <t t-call="website_blog_app.app_nav"/>

            <section id="o_wblog_index_content" t-att-class="opt_blog_cards_design and 'o_wblog_page_cards_bg'">
                <div class="container py-4">
                    <div t-attf-class="row #{opt_blog_sidebar_show and 'justify-content-between' or 'justify-content-center'}">
                        <div id="o_wblog_posts_loop_container" t-attf-class="col #{'o_container_small mx-0' if opt_blog_list_view else ''}">


                            <div class="row d-flex align-items-stretch">
                                <t t-foreach="posts" t-as="blog_post">
                                    <div class="col-lg-4 s_col_no_bgcolor pt16 pb16">
                                        <div class="card bg-white h-100">
                                            <a t-attf-href="/blog/#{slug(blog_post.blog_id)}/#{slug(blog_post)}" t-attf-class="text-decoration-none d-block #{classes or 'mb-2'}" style="height: 235px;">
                                                <t t-if="blog_post.app_banner">
                                                    <img class="rounded card-img-top" t-att-src="'data:image/png;base64,%s' % to_text(blog_post.app_banner)" t-att-alt="'%s' % blog_post.name"/>
                                                </t>
                                                <t t-else="">
                                                    <img class="rounded card-img-top o_cc3" src="/website_blog_app/static/img/bg.png" alt="" style="height: 235px;"/>
                                                </t>
                                            </a>

                                            <div class="card-body">
                                                <a t-attf-href="/blog/#{slug(blog_post.blog_id)}/#{slug(blog_post)}" class="d-block text-reset text-decoration-none o_blog_post_title my-0 h5">
                                                    <t t-esc="blog_post.name"/>
                                                </a>
                                                <p class="card-text" style="margin-top: 10px;">Vertel AB</p>
                                            </div>
                                        </div>
                                    </div>
                                </t>
                            </div>

                            <t t-call="website.pager" >
                                <t t-set="classname" t-valuef="justify-content-center"/>
                                <t t-set="extraLinkClass" t-valuef="post_link"/>
                            </t>
                        </div>
                    </div>
                </div>
            </section>
        </t>
    </template>

    <template id="app_nav" name="Blogs Bar Template">
        <nav t-attf-class="navbar navbar-expand-sm navbar-light #{additionnal_classes}" t-if="len(blogs) > 1">
            <div class="container">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <span class="nav-link disabled pl-0">Apps:</span>
                    </li>
                    <li class="nav-item">
                        <a href="/apps" t-attf-class="nav-link font-weight-bold #{(not blog) and 'active'}">All</a>
                    </li>
                    <li class="nav-item" t-foreach="blogs" t-as="nav_blog">
                        <a t-attf-href="/apps/#{slug(nav_blog)}"
                           t-attf-class="nav-link #{(blog and nav_blog.id == blog.id) and 'active' or ''}">
                            <b t-field="nav_blog.name"/>
                        </a>
                    </li>
                </ul>
                <!-- 'Search Box' -->
                <form id="o_wblog_post_search" class="form-inline w-100 w-md-auto pt-2 pt-md-0 d-md-flex"
                      role="search" t-att-action="blog_url(tag=tag,search=search)" method="get">
                    <t t-call="website.website_search_box">
                        <t t-set="_classes" t-valuef="w-100"/>
                    </t>
                </form>
            </div>
        </nav>
    </template>
</odoo>


